{% extends "base.html" %}

{% block content %}
<h2>{% if address %}Edit Address{% else %}Create New Address{% endif %}</h2>

<form method="POST">
    <div class="form-group">
        <label for="member_user_id">Member ID:</label>
        <select id="member_user_id" name="member_user_id" {% if address %}disabled{% endif %} required>
            {% if address %}
                <option value="{{ address.member_user_id }}" selected>{{ address.member_user_id }}</option>
            {% else %}
                <option value="">Select a member</option>
                {% for member in members %}
                <option value="{{ member.member_user_id }}">{{ member.member_user_id }}</option>
                {% endfor %}
            {% endif %}
        </select>
        {% if address %}
            <input type="hidden" name="member_user_id" value="{{ address.member_user_id }}">
        {% endif %}
    </div>
    <div class="form-group">
        <label for="house_number">House Number:</label>
        <input type="text" id="house_number" name="house_number" value="{{ address.house_number if address else '' }}" required>
    </div>
    <div class="form-group">
        <label for="street">Street:</label>
        <input type="text" id="street" name="street" value="{{ address.street if address else '' }}" required>
    </div>
    <div class="form-group">
        <label for="town">Town:</label>
        <input type="text" id="town" name="town" value="{{ address.town if address else '' }}" required>
    </div>
    <div class="actions">
        <button type="submit" class="btn btn-success">Save</button>
        <a href="{{ url_for('list_addresses') }}" class="btn btn-primary">Cancel</a>
    </div>
</form>
{% endblock %}

